<body>
<div>
  <div class="container">
    <div class="header">
        <div class="centered">
            <img class="logoES" src="/assets/ESLogo2_Black_NoBg_NoText_Reverse_278x155.png" />
            <span class="EStitle-black">xpress Shop</span>
        </div>
  </div>
  <div class="row justify-content-center">

  </div>
    <mat-card>
        <mat-card-title>Inscription</mat-card-title>
    <mat-card-content>
    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="RealForm">
    
        <p><mat-form-field>
            <input type="username" id="inputUsername" name="username" ngModel class="form-control" matInput placeholder="Nom d'utilisateur" formControlName="username">
            <mat-error *ngIf="username.hasError('required')">Le nom d'utilisateur est obligatoire</mat-error>
        </mat-form-field>
        <mat-form-field>
            <input type="password" id="inputPassword" name="password" ngModel class="form-control" placeholder="Mot de passe" matInput formControlName="password" >
            <mat-error *ngIf="password.hasError('required')">Le mot de passe est obligatoire</mat-error>
        </mat-form-field></p>
    
        <p><mat-form-field>
            <input type="prenom" id="inputprenom" name="prenom" ngModel class="form-control" matInput placeholder="Prénom" formControlName="prenom">
            <mat-error *ngIf="prenom.hasError('required')">Le prenom est obligatoire</mat-error>
        </mat-form-field>
        <mat-form-field>
            <input type="nom" id="inputnom" name="nom" ngModel class="form-control" placeholder="Nom de famille" matInput formControlName="nom" >
            <mat-error *ngIf="nom.hasError('required')">Le nom est obligatoire</mat-error>
        </mat-form-field></p>

        <p><mat-form-field>
            <input type="adresse" id="inputadresse" name="adresse" ngModel class="form-control" matInput placeholder="Adresse"  formControlName="adresse">
            <mat-error *ngIf="adresse.hasError('required')">L'adresse est obligatoire</mat-error>
        </mat-form-field>
        <mat-form-field>
            <input type="Telephone" id="inputTelephone" name="Telephone" ngModel class="form-control"  placeholder="Numéro de téléphone" matInput formControlName="Telephone" >
            <mat-error *ngIf="Telephone.hasError('required')">Le numéro de téléphone est obligatoire</mat-error>
        </mat-form-field></p>

        <p><mat-form-field>
            <input type="email" id="inputemail" name="email" ngModel class="form-control" matInput placeholder="Adresse courriel" formControlName="email">
            <mat-error *ngIf="email.hasError('required')">L'adresse courriel est obligatoire</mat-error>
        </mat-form-field>
        <mat-form-field>
            <mat-label>Type du compte</mat-label>
            <select (change)="selectChangeHandler($event)" matNativeControl>
                <option value="Fournisseur">Fournisseur</option>
                <option value="Distributeur">Distributeur</option>
            </select>
        </mat-form-field></p>
        
        <p class="upload">Photo de profil</p>
        <p style="height: 155px;">
            <img id="Image" [src]="imageSrc" class="IMG"/>
            <mat-form-field appearance="outline" class="description-field">
                <mat-label>Description</mat-label>
                <textarea matInput placeholder="Description de votre compagnie" name="Description" formControlName="Description" id="inputDescription"></textarea>
                <mat-error *ngIf="Description.hasError('required')">La description est obligatoire</mat-error>
            </mat-form-field>
        </p>
        <p><input type='file' class="upload" (change)="onFileChanged($event)"/></p>
        <p class="tag" *ngIf="EstFournisseur">
            <mat-form-field class="tag">
                   <mat-chip-list #chipList aria-label="Tags selection">
                     <mat-chip *ngFor="let tags of tag" [selectable]="selectable"
                              [removable]="removable" (removed)="remove(tags)">
                       {{tags.name}}
                       <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                     </mat-chip>
                     <input placeholder="Tags du Fournisseur"
                            [matChipInputFor]="chipList"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                            [matChipInputAddOnBlur]="addOnBlur"
                            (matChipInputTokenEnd)="add($event)">
                   </mat-chip-list>
             </mat-form-field>
           </p>
        <p *ngIf="invalidsubscribe" [innerHTML]="errormessages" class="error">{{errormessages.name}}</p>
        
        <div class="button_div">
            <button type="submit" mat-button>S'inscrire</button>
            <button class="button_login" (click)="AnnunlerOption()" mat-button>Annuler</button>
        </div>
    
    </form>
    </mat-card-content>
    </mat-card>
      <ngx-spinner [fullScreen]="true" type="ball-clip-rotate-multiple" size="medium">
        <p class="loadingText">Création de votre compte...</p>
      </ngx-spinner>
    </div>
</div>
    <app-pop-up [isOpen]="popUpOpen">
        <div class="blur">
          <header>
            <span class="title">Inscription Réussi!</span>
          </header>
          <main style="text-align: center">
            <p>Votre demande d'inscription a été envoyé à notre équipe d'analyste</p>
            <p>Vous receverez une confirmation par email d'ici peu!</p>
          </main>
          <footer>
            <button (click)="cancelOption()" mat-button style="float: right">Retour au menu</button>
          </footer>
        </div>
      </app-pop-up>  
    </body>